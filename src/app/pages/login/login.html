<div class="w-screen flex flex-col items-center justify-center bg-gray-100 p-4">
  
  <!-- Header -->
  <h2 class="text-3xl font-bold mb-8" *ngIf="!loginType">Welcome! Please Login</h2>

  <!-- Initial buttons -->
  <div *ngIf="!loginType" class="flex flex-col sm:flex-row gap-6 sm:gap-16 justify-center items-center">
    <button
      class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
      (click)="chooseLogin('ADMIN')">
      Login as Admin
    </button>

    <button
      class="px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition"
      (click)="chooseLogin('USER')">
      Login as Patient/Doctor
    </button>

    <a
      routerLink="/register/patient"
      class="px-6 py-3 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition">
      Register as Patient
    </a>
  </div>

  <!-- Login form -->
  <form *ngIf="loginType" #f="ngForm" class="w-full max-w-md bg-white p-8 rounded-lg shadow-lg mt-8" (ngSubmit)="submit()">
    
    <h3 class="text-xl font-semibold mb-6 text-center" *ngIf="loginType === 'ADMIN'">Login as Admin</h3>
    <h3 class="text-xl font-semibold mb-6 text-center" *ngIf="loginType === 'USER'">Login as Patient/Doctor</h3>

    <!-- Username / Email -->
    <div class="mb-4">
      <label class="block text-gray-700 mb-2" for="usernameOrEmail">Username or Email</label>
      <input
        id="usernameOrEmail"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        [(ngModel)]="usernameOrEmail"
        name="usernameOrEmail"
        required
        #usernameOrEmailInput="ngModel"
      />
      <div class="text-red-500 mt-1 text-sm" *ngIf="usernameOrEmailInput.invalid && usernameOrEmailInput.touched">
        Username or Email is required.
      </div>
    </div>

    <!-- Password -->
    <div class="mb-6">
      <label class="block text-gray-700 mb-2" for="password">Password</label>
      <input
        id="password"
        type="password"
        class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400"
        [(ngModel)]="password"
        name="password"
        required
        #passwordInput="ngModel"
      />
      <div class="text-red-500 mt-1 text-sm" *ngIf="passwordInput.invalid && passwordInput.touched">
        Password is required.
      </div>
    </div>

    <!-- Buttons -->
    <div class="flex justify-between items-center">
      <button
        type="submit"
        class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition"
        [disabled]="loading || !f.valid">
        Login
      </button>
      
      <button
        type="button"
        class="text-blue-600 hover:underline"
        (click)="loginType = null">
        â¬… Back
      </button>
    </div>

    <!-- Error message -->
    <div class="text-red-500 mt-4 text-center" *ngIf="error">{{ error }}</div>

  </form>
</div>
